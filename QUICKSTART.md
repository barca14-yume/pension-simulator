# クイックスタートガイド

## インストール

```bash
npm install
```

## 開発サーバー起動

```bash
npm run dev
```

ブラウザで http://localhost:3000 を開きます。

## 初回利用の流れ

### 1. プリセット選択
ヘッダーの「プリセット」ドロップダウンから選択：
- **保守的**: 低リスク・低リターン（債券中心）
- **標準**: バランス型（デフォルト）
- **積極的**: 高リスク・高リターン（株式中心）

### 2. 顧客情報入力
左パネルの「顧客情報」アコーディオンを開いて入力：
- 現在年齢: 20〜80歳
- 性別
- 配偶者の有無・年齢
- 子供の年齢（カンマ区切り）

### 3. 主要項目入力
「所得・積立」セクション：
- 現在の年収
- 現在の貯蓄額
- 年間積立額
- 期待リターン（スライダーで調整）

「生活費」セクション：
- 現在の年間生活費
- 退職後生活費率（例: 80%）

### 4. 結果確認
右パネルで以下を確認：

**サマリータブ**
- 3つのKPIカード（生涯受取・リタイア時資産・破綻確率）
- 資産残高推移グラフ
- 収入・支出推移グラフ

**年次推移タブ**
- 年次別の詳細データテーブル
- 表示単位を「万円」「千円」「円」で切り替え可能

**前提・係数タブ**
- 計算に使用した前提条件の確認
- Monte Carloシミュレーションの有効化

**エクスポートタブ**
- CSV/JSONダウンロード
- 印刷プレビュー

### 5. 営業モード
ヘッダーの「営業モード」ボタンをクリック：
- 文字サイズが大きくなる
- 余白が減る
- コントラストが高くなる
- アニメーションが最小化される

### 6. 設定の保存・共有

**ブラウザに保存**
- ヘッダーの「保存」ボタン → ローカルストレージに保存
- 「読込」ボタン → 保存した設定を復元

**URL共有**
- ヘッダーの「共有」ボタン → URLをクリップボードにコピー
- URLを他の人に送信すると同じ設定で開ける

## よくある使い方

### ケース1: 基本的な年金試算
1. 年齢・年収・貯蓄額を入力
2. 退職年齢を設定（デフォルト65歳）
3. 「サマリー」タブでKPIを確認
4. 「年次推移」タブで詳細を確認

### ケース2: 保険提案のシミュレーション
1. 基本情報を入力
2. 「私的年金・保険」セクションで保険商品を設定
   - 私的年金年額
   - 終身保険死亡保険金
   - 定期保険死亡保険金
3. 「ライフイベント」で想定死亡年齢を設定
4. 遺族年金の影響を確認

### ケース3: リスク分析
1. 基本情報を入力
2. 「前提・係数」タブでMonte Carloを有効化
3. 「サマリー」タブで破綻確率を確認
4. Monte Carloグラフでパーセンタイル別の推移を確認

### ケース4: プリセット比較
1. 基本情報を入力
2. 「保守的」プリセットで計算 → KPIをメモ
3. 「標準」プリセットに切り替え → KPIを比較
4. 「積極的」プリセットに切り替え → KPIを比較

## キーボードショートカット

- **Tab / Shift+Tab**: 入力フィールド間を移動
- **矢印キー**: スライダーの値を調整
- **Enter**: チェックボックス・ボタンを操作
- **Ctrl+P**: 印刷プレビュー

## トラブルシューティング

### 計算結果が表示されない
- ブラウザのコンソールでエラーを確認
- 必須項目（年齢・年収・貯蓄額等）が入力されているか確認
- 「リセット」ボタンで初期値に戻す

### グラフが表示されない
- ブラウザの幅を広げる（最小1280px推奨）
- ブラウザをリロード

### Monte Carloが遅い
- 計算に数秒かかります（500回試行）
- 必要な時だけ有効化することを推奨

### 印刷がうまくいかない
- ブラウザの印刷設定で「A4横向き」を選択
- 「背景のグラフィック」を有効化

## 次のステップ

- `/config.ts` で係数をカスタマイズ
- `/data/presets.ts` で独自プリセットを追加
- テストを実行: `npm test`
- 本番ビルド: `npm run build`
